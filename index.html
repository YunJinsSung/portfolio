<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¨í”„ë¥¼ ë‹¹ê²¨ì£¼ì„¸ìš”</title>
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@700&display=swap" rel="stylesheet">
    
    <style>
        /* --- ê¸°ë³¸ ì„¤ì • --- */
        :root {
            --bg-dark: #111;
            --bg-light: #f4f4f4;
            --lamp-shade-dark: #444;
            --lamp-shade-light: #FF6B6B;
            --string-color: #888;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-dark);
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            font-family: 'Syncopate', sans-serif;
            transition: background-color 0.5s ease;
            user-select: none;
        }

        body.light-on {
            background-color: var(--bg-light);
        }

        /* --- 1. ë¨í”„ ìºë¦­í„° (ì™¼ìª½ ë°°ì¹˜) --- */
        .lamp-wrapper {
            position: absolute;
            top: 0;
            left: 20%;
            transform: translateX(-50%);
            z-index: 10;
        }

        .lamp-wire {
            width: 4px; height: 150px; background: #333; margin: 0 auto;
        }

        /* ê°“ (ì–¼êµ´ ë³¸ì²´) */
        .lamp-shade {
            width: 140px; height: 100px;
            background: var(--lamp-shade-dark);
            border-radius: 70px 70px 10px 10px;
            position: relative; z-index: 2;
            transition: background 0.3s;
            display: flex; justify-content: center; align-items: center; flex-direction: column;
            box-shadow: inset 0 -10px 20px rgba(0,0,0,0.5);
        }

        body.light-on .lamp-shade {
            background: var(--lamp-shade-light);
            box-shadow: 0 0 50px rgba(255, 107, 107, 0.6);
        }

        /* í‘œì • ì»¨í…Œì´ë„ˆ */
        .face {
            position: relative; width: 80px; height: 45px; /* ë†’ì´ ì•½ê°„ ì¦ê°€ */
        }

        /* ëˆˆ/ì… ê³µí†µ ìŠ¤íƒ€ì¼ ë° íŠ¸ëœì§€ì…˜ */
        .eye, .mouth {
            position: absolute;
            transition: all 0.2s ease-in-out; /* ë¶€ë“œëŸ¬ìš´ í‘œì • ë³€í™” */
        }

        /* ================== [í‘œì • ìƒíƒœ ì •ì˜] ================== */

        /* [ìƒíƒœ 1: ìëŠ” í‘œì • (ê¸°ë³¸ OFF)] - Zzz... */
        .eye {
            top: 20px; width: 18px; height: 2px; background: #aaa; border-radius: 2px;
        }
        .eye.left { left: 12px; }
        .eye.right { right: 12px; }

        .mouth {
            bottom: 8px; left: 50%; transform: translateX(-50%);
            width: 10px; height: 10px;
            border: 2px solid #aaa; border-radius: 50%; background: transparent;
        }

        /* Zzz ë²„ë¸” */
        .sleep-bubble {
            position: absolute; top: -25px; right: -25px;
            font-size: 1.2rem; color: #ccc; opacity: 0; font-weight: bold;
        }
        body:not(.light-on):not(.pulling-strained) .sleep-bubble {
            animation: snore 2s infinite ease-out; opacity: 1;
        }

        /* [ìƒíƒœ 2: ë‹¹ê¸°ëŠ” ì¤‘ ë†€ë€ í‘œì • (NEW! Pulling Strained)] - ğŸ˜² */
        /* JSì—ì„œ bodyì— pulling-strained í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•  ë•Œ ì ìš©ë¨ */
        body.pulling-strained .eye {
            height: 14px; width: 14px;
            background: #fff; /* ëˆˆì„ ë™ê·¸ë—ê²Œ ëœ¸ */
            border-radius: 50%;
            top: 15px; /* ìœ„ì¹˜ ì¡°ì • */
            box-shadow: 0 0 8px rgba(255,255,255,0.8); /* ë†€ë¼ì„œ ëˆˆì´ ë¹›ë‚¨ */
        }
        body.pulling-strained .mouth {
            width: 14px; height: 16px;
            border-radius: 50%;
            background: #fff; /* ì…ì„ 'O' í•˜ê³  ë²Œë¦¼ */
            border: none;
            bottom: 5px;
        }
        body.pulling-strained .sleep-bubble { opacity: 0 !important; animation: none !important; }


        /* [ìƒíƒœ 3: í™œì§ ì›ƒëŠ” í‘œì • (ON) - ê²¹ì¹¨ ìˆ˜ì •ë¨] - ğŸ˜„ */
        body.light-on .eye {
            background: #fff;
            height: 14px; width: 14px; border-radius: 50%;
            top: 8px; /* ëˆˆ ìœ„ì¹˜ë¥¼ ìœ„ë¡œ ì˜¬ë¦¼ */
        }
        body.light-on .mouth {
            width: 40px; height: 20px; /* ì… í¬ê¸° ì¡°ì ˆ */
            background: #fff;
            border-bottom-left-radius: 25px; /* ë” ë‘¥ê¸€ê²Œ */
            border-bottom-right-radius: 25px;
            border: none;
            bottom: 2px; /* ì… ìœ„ì¹˜ë¥¼ ì•„ë˜ë¡œ ë‚´ë¦¼ */
        }
        body.light-on .sleep-bubble { display: none; }

        /* ====================================================== */

        /* ì „êµ¬ */
        .lamp-bulb {
            width: 60px; height: 30px; background: #555;
            border-radius: 0 0 30px 30px; margin: 0 auto;
            position: relative; z-index: 1; transition: all 0.3s;
            box-shadow: 0 5px 10px rgba(0,0,0,0.5);
        }
        body.light-on .lamp-bulb {
            background: #fff; box-shadow: 0 20px 100px rgba(255, 255, 255, 0.8);
        }

        /* --- 2. ë“œë˜ê·¸ ê°€ëŠ¥í•œ ì¤„ --- */
        .string-container {
            width: 4px; height: 200px; margin: 0 auto; position: relative;
        }
        .pull-string {
            width: 4px; height: 100%; background: var(--string-color);
            transform-origin: top center;
        }
        .handle {
            width: 30px; height: 30px; background: #ccc; border-radius: 50%;
            position: absolute; bottom: 0; left: 50%;
            transform: translate(-50%, 50%); cursor: grab;
            box-shadow: 0 3px 5px rgba(0,0,0,0.3); transition: background 0.2s; z-index: 20;
        }
        .handle:active { cursor: grabbing; background: #fff; }
        .drag-hint {
            position: absolute; top: 50px; left: 50px; color: #666;
            font-size: 0.8rem; white-space: nowrap; opacity: 0.7; pointer-events: none; transition: opacity 0.3s;
        }
        body.light-on .drag-hint { opacity: 0; }
        body.pulling-strained .drag-hint { opacity: 0.3; } /* ë‹¹ê¸¸ë•Œ íŒíŠ¸ ì—°í•˜ê²Œ */


        /* --- 3. ì˜¤ë¥¸ìª½ ì½˜í…ì¸  (ë²„íŠ¼) --- */
        .content-area {
            position: absolute; right: 15%; top: 50%;
            transform: translateY(-50%); text-align: center;
            opacity: 0; pointer-events: none; transition: all 0.8s ease-out;
        }
        body.light-on .content-area {
            opacity: 1; transform: translateY(-50%) translateX(0); pointer-events: auto;
        }
        .title {
            font-size: 3rem; color: #333; margin-bottom: 30px; text-transform: uppercase; letter-spacing: 5px;
        }
        .enter-btn {
            display: inline-block; padding: 20px 50px; font-size: 1.2rem;
            font-weight: bold; color: #fff; background: #000; text-decoration: none;
            border: 2px solid #000; transition: all 0.3s; position: relative;
            overflow: hidden; font-family: 'Syncopate', sans-serif;
        }
        .enter-btn::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: #FF6B6B; transition: left 0.3s ease; z-index: -1;
        }
        .enter-btn:hover { color: #fff; border-color: #FF6B6B; }
        .enter-btn:hover::before { left: 0; }

        @keyframes snore {
            0% { transform: translate(0, 0) scale(0.5); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translate(20px, -20px) scale(1.2); opacity: 0; }
        }

    </style>
</head>
<body>

    <div class="lamp-wrapper">
        <div class="lamp-wire"></div>
        <div class="lamp-shade">
            <div class="sleep-bubble">Zzz...</div>
            <div class="face">
                <div class="eye left"></div>
                <div class="eye right"></div>
                <div class="mouth"></div>
            </div>
        </div>
        <div class="lamp-bulb"></div>
        
        <div class="string-container" id="stringContainer">
            <div class="pull-string" id="pullString"></div>
            <div class="handle" id="handle">
                <div class="drag-hint">â–¼ ì¤„ì„ ë‹¹ê²¨ì„œ ë¨í”„ë¥¼ ê¹¨ì›Œë³´ì„¸ìš”</div>
            </div>
        </div>
    </div>

    <div class="content-area">
        <h1 class="title">My Portfolio</h1>
        <a href="main 1.html" class="enter-btn">Enter Exhibition</a>
    </div>

    <script>
        const handle = document.getElementById('handle');
        const pullString = document.getElementById('pullString');
        const body = document.body;
        
        let isDragging = false;
        let startY = 0;
        let currentY = 0;
        const maxPull = 150; 
        const triggerPull = 100; 

        handle.addEventListener('mousedown', startDrag);
        handle.addEventListener('touchstart', startDrag);

        function startDrag(e) {
            isDragging = true;
            startY = e.type.includes('mouse') ? e.clientY : e.touches[0].clientY;
            handle.style.cursor = 'grabbing';
            handle.style.transition = 'none';
            pullString.style.transition = 'none';
            
            // ë“œë˜ê·¸ ì‹œì‘ ì‹œ ê¸°ì¡´ ìƒíƒœ ì´ˆê¸°í™”
            body.classList.remove('pulling-strained');
        }

        window.addEventListener('mousemove', drag);
        window.addEventListener('touchmove', drag);

        function drag(e) {
            if (!isDragging) return;

            const clientY = e.type.includes('mouse') ? e.clientY : e.touches[0].clientY;
            let dy = clientY - startY;

            if (dy < 0) dy = 0;
            if (dy > maxPull) dy = maxPull + (dy - maxPull) * 0.2; 

            currentY = dy;

            // --- [NEW] ë“œë˜ê·¸ ìƒíƒœì— ë”°ë¼ í‘œì • ë³€ê²½ ---
            // ì¡°ê¸ˆì´ë¼ë„ ë‹¹ê²¨ì§€ë©´(currentY > 10) ë†€ë€ í‘œì • í´ë˜ìŠ¤ ì¶”ê°€
            if (currentY > 10 && !body.classList.contains('light-on')) {
                body.classList.add('pulling-strained');
            } else {
                // ë‹¤ì‹œ ìœ„ë¡œ ì˜¬ë¦¬ë©´ ë†€ë€ í‘œì • ì œê±°
                body.classList.remove('pulling-strained');
            }
            // ---------------------------------------

            pullString.style.transform = `scaleY(${1 + currentY / 200})`; 
            handle.style.transform = `translate(-50%, ${50 + currentY}%)`; 
        }

        window.addEventListener('mouseup', endDrag);
        window.addEventListener('touchend', endDrag);

        function endDrag() {
            if (!isDragging) return;
            isDragging = false;

            handle.style.cursor = 'grab';
            handle.style.transition = 'transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
            pullString.style.transition = 'transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)';

            // --- [NEW] ë“œë˜ê·¸ ë†“ìœ¼ë©´ ë†€ë€ í‘œì • ì¦‰ì‹œ ì œê±° ---
            body.classList.remove('pulling-strained');
            // -------------------------------------------

            if (currentY > triggerPull) {
                toggleLight();
            }

            pullString.style.transform = 'scaleY(1)';
            handle.style.transform = 'translate(-50%, 50%)';
            currentY = 0;
        }

        function toggleLight() {
            body.classList.toggle('light-on');
            if (navigator.vibrate) navigator.vibrate(50); 
        }
    </script>
</body>
</html>